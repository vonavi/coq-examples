<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ease life in dependently typed programming using Function and Program in Coq</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><main id="ease-life-in-dependently-typed-programming-using-function-and-program-in-coq">
<h1 class="title">Ease life in dependently typed programming using <span class="docutils literal">Function</span> and <span class="docutils literal">Program</span> in Coq</h1>
<dl class="docinfo simple">
<dt class="link">Link<span class="colon">:</span></dt>
<dd class="link"><p><a class="reference external" href="https://stackoverflow.com/q/52262322">https://stackoverflow.com/q/52262322</a></p>
</dd>
</dl>
<section id="question">
<h2>Question</h2>
<p>I am trying to implement a dependently typed evaluator of STLC in Coq
using <span class="docutils literal">Program Fixpoint</span>. Since the language does not have fixed
point operator, I think the evaluator should terminate, though the
termination condition is not structural.</p>
<p>During my development, I find one source of headache is I simply can't
keep track of too many variables at the same time, and pattern
matching is too nested.</p>
<p>If it were about a mere <span class="docutils literal">Fixpoint</span>, I can just implement the body
using tactics, but when using <span class="docutils literal">Program Fixpoint</span> or <span class="docutils literal">Function</span>, I
just cannot. Is there any trick to build body using tactics in this
case?</p>
<p>I am stuck at very end:
<a class="reference external" href="https://gist.github.com/HuStmpHrrr/0d92e646916ae9ec7ced3ff21724ba2d">https://gist.github.com/HuStmpHrrr/0d92e646916ae9ec7ced3ff21724ba2d</a></p>
</section>
<section id="answer">
<h2>Answer</h2>
<p>When using <span class="docutils literal">Program</span>, you can simply leave underscores for parts of
your term you want to fill in using proof mode. Any underscores that
can be inferred will automatically be filled in and the remaining will
produce obligations. For example, you can write all of <span class="docutils literal">run</span> in
proof mode by writing <span class="docutils literal">Program Fixpoint run ... {measure <span class="pre">...}</span> := _.</span>
The measure will show up as an argument to <span class="docutils literal">run</span> in the context.</p>
</section>
</main>
</div></body>
</html>
