<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lift existentials in Coq</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><main id="lift-existentials-in-coq">
<h1 class="title">Lift existentials in Coq</h1>
<dl class="docinfo simple">
<dt class="link">Link<span class="colon">:</span></dt>
<dd class="link"><p><a class="reference external" href="https://stackoverflow.com/q/54944574">https://stackoverflow.com/q/54944574</a></p>
</dd>
</dl>
<input type="checkbox" class="alectryon-toggle" id="alectryon-toggle-0" /><label for="alectryon-toggle-0" class="alectryon-toggle-label">Display all goals and responses</label><div class="alectryon-container docutils container">
<section id="question">
<h2>Question</h2>
<p>Can this lemma be proven in Coq?</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="lift-existentials-in-coq-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="lift-existentials-in-coq-v-chk0"><span class="kn">Lemma</span> <span class="nf">liftExists</span> : <span class="kr">forall</span> (<span class="nv">P</span> : nat -&gt; nat -&gt; <span class="kt">Prop</span>),
    (<span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">p</span> : nat, P n p)
    -&gt; <span class="kr">exists</span> (<span class="nv">f</span> : nat -&gt; nat), <span class="kr">forall</span> <span class="nv">n</span> : nat, P n (f n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">P</span> : nat -&gt; nat -&gt; <span class="kt">Prop</span>,
(<span class="kr">forall</span> <span class="nv">n</span> : nat, <span class="kr">exists</span> <span class="nv">p</span> : nat, P n p) -&gt;
<span class="kr">exists</span> <span class="nv">f</span> : nat -&gt; nat, <span class="kr">forall</span> <span class="nv">n</span> : nat, P n (f n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span></pre><p>The simple <span class="docutils literal">destruct</span> does not compile, because we cannot eliminate
the object <span class="docutils literal">exists p:nat, P n p</span> in sort <span class="docutils literal">Prop</span>, to produce the
function <span class="docutils literal">f</span> in sort <span class="docutils literal">Set</span>.</p>
<p>If Coq cannot prove this lemma, then what is the meaning of <span class="docutils literal">forall n:nat, exists p:nat, P n p</span>? In constructive mathematics it would
mean the existence of the function <span class="docutils literal">f</span>, but I have the impression
that we will never see this function <span class="docutils literal">f</span> in Coq, not even in sort
<span class="docutils literal">Prop</span> as expressed above.</p>
</section>
<section id="answer">
<h2>Answer</h2>
<p>It is not provable in Coq because of the restriction on eliminating
<span class="docutils literal">Prop</span> into <span class="docutils literal">Set</span>. As for the philosophical &quot;meaning&quot;, I'm not
sure if anyone has a very good story about this. The inhabitants of
<span class="docutils literal">forall n:nat, exists p:nat, P n p</span> are functions returning a pair
of <span class="docutils literal">p</span> and a proof, but in addition they a functions that can be
ignored when compiling programs because you know that nothing will
look at the value that was returned.</p>
<p>So partly this system of <span class="docutils literal">Prop</span> versus <span class="docutils literal">Set</span> is a way to compile
programs more efficiently, but actually this is also used for logical
properties. In Coq the <span class="docutils literal">Prop</span> type is impredicative and the <span class="docutils literal">Set</span>
type is not, and even so it's consistent to assume the law of exluded
middle for <span class="docutils literal">Prop</span>s as an axiom, and to prove that this is
consistent you can appeal to a &quot;<a class="reference external" href="http://www.lix.polytechnique.fr/~werner/publis/cc.pdf">proof-irrelevant model</a>&quot;, where you
interpret types in <span class="docutils literal">Prop</span>s as sets by ignoring all information
except whether they are inhabited or not. From a classical logic
perspective (where all you care about are truth values) that makes
sense, but if you are interested in constructive mathematics it's a
bit weird!</p>
</section>
</div>
</main>
</div></body>
</html>
