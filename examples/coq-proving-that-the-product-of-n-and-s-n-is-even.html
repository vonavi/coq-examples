<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<title>Coq: Proving that the product of n and (S n) is even</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="document" id="coq-proving-that-the-product-of-n-and-s-n-is-even">
<h1 class="title">Coq: Proving that the product of <tt class="docutils literal">n</tt> and <tt class="docutils literal">(S n)</tt> is even</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr class="link field"><th class="docinfo-name">Link:</th><td class="field-body"><a class="reference external" href="https://stackoverflow.com/q/40791863">https://stackoverflow.com/q/40791863</a></td>
</tr>
</tbody>
</table>
<input type="checkbox" class="alectryon-toggle" id="alectryon-toggle-0" /><label for="alectryon-toggle-0" class="alectryon-toggle-label">Display all goals and responses</label><div class="alectryon-container docutils container">
<div class="section" id="question">
<h1>Question</h1>
<p>Given the procedure <tt class="docutils literal">even</tt>, I want to prove that <tt class="docutils literal">even (n * (S n))
= true</tt> for all natural numbers <tt class="docutils literal">n</tt>.</p>
<p>Using induction, this is easily seen to be <tt class="docutils literal">true</tt> for the case <tt class="docutils literal">n =
0</tt>. However, the case <tt class="docutils literal">(S n) * (S (S n))</tt> is hard to simplify.</p>
<p>I've considered proving the lemma that <tt class="docutils literal">even (m * n) = even m /\ even
n</tt>, but this doesn't seem to be easier.</p>
<p>Also, it is easy to see that if <tt class="docutils literal">even n = true</tt> iff. <tt class="docutils literal">even (S n) =
false</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">even</span> (<span class="nv">n</span> : nat) : bool :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | O =&gt; true
  | <span class="mi">1</span> =&gt; false
  | S (S n&#39;) =&gt; even n&#39;
  <span class="kr">end</span>.</span></span></pre><p>Can someone give a hint on how to prove this using a &quot;beginner's&quot;
subset of Coq?</p>
</div>
<div class="section" id="answer-anton-trunov">
<h1>Answer (Anton Trunov)</h1>
<p>This is a case where a more advanced induction principle can be
useful. It is briefly described in <a class="reference external" href="https://stackoverflow.com/a/40595110/2747511">this answer</a>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Arith.Arith.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Bool.Bool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk0"><span class="kn">Lemma</span> <span class="nf">pair_induction</span> (<span class="nv">P</span> : nat -&gt; <span class="kt">Prop</span>) :
  P <span class="mi">0</span> -&gt; P <span class="mi">1</span> -&gt; (<span class="kr">forall</span> <span class="nv">n</span>, P n -&gt; P (S n) -&gt; P (S (S n))) -&gt;
  <span class="kr">forall</span> <span class="nv">n</span>, P n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>nat -&gt; <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P <span class="mi">0</span> -&gt;
P <span class="mi">1</span> -&gt;
(<span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (S n) -&gt; P (S (S n))) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat, P n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>nat -&gt; <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P <span class="mi">0</span> -&gt;
P <span class="mi">1</span> -&gt;
(<span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (S n) -&gt; P (S (S n))) -&gt;
<span class="kr">forall</span> <span class="nv">n</span> : nat, P n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2"><span class="nb">intros</span> ? ? ? n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>nat -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (S n) -&gt; P (S (S n))</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3"><span class="nb">enough</span> (P n /\ P (S n)) <span class="bp">by</span> <span class="bp">tauto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>nat -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (S n) -&gt; P (S (S n))</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P n /\ P (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> n; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Now, let's define several helper lemmas. They are obvious and can be
easily proved using the <tt class="docutils literal">pair_induction</tt> principle and some proof
automation.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk4"><span class="kn">Lemma</span> <span class="nf">even_mul2</span> : <span class="kr">forall</span> <span class="nv">n</span>, Nat.even (<span class="mi">2</span> * n) = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (<span class="mi">2</span> * n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (<span class="mi">2</span> * n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk6"><span class="nb">induction</span> n; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even (<span class="mi">2</span> * n) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (<span class="mi">2</span> * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">replace</span> (<span class="mi">2</span> * S n) <span class="kr">with</span> (<span class="mi">2</span> + <span class="mi">2</span> * n) <span class="bp">by</span> <span class="bp">ring</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk7"><span class="kn">Lemma</span> <span class="nf">even_add_even</span> : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span>,
    Nat.even m = true -&gt; Nat.even (m + n) = Nat.even n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat,
Nat.even m = true -&gt; Nat.even (m + n) = Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat,
Nat.even m = true -&gt; Nat.even (m + n) = Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">induction</span> m <span class="nb">using</span> pair_induction; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk9"><span class="kn">Lemma</span> <span class="nf">even_add_mul2</span> : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span>,
    Nat.even (<span class="mi">2</span> * m + n) = Nat.even n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat, Nat.even (<span class="mi">2</span> * m + n) = Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chka"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat, Nat.even (<span class="mi">2</span> * m + n) = Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>; <span class="nb">apply</span> even_add_even, even_mul2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkb"><span class="kn">Lemma</span> <span class="nf">even_S</span> : <span class="kr">forall</span> <span class="nv">n</span>,
    Nat.even (S n) = negb (Nat.even n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (S n) = negb (Nat.even n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (S n) = negb (Nat.even n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkd"><span class="nb">induction</span> n; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even (S n) = negb (Nat.even n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S (S n)) = negb (Nat.even (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chke"><span class="nb">simpl</span> (Nat.even (S (S n))). <span class="c">(* not necessary -- just to make things clear *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even (S n) = negb (Nat.even n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even n = negb (Nat.even (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chkf"><span class="nb">apply</span> negb_sym.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even (S n) = negb (Nat.even n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S n) = negb (Nat.even n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>The following lemma shows how to &quot;distribute&quot; <tt class="docutils literal">even</tt> over
multiplication. It plays an important role in the proof of our main
goal. As almost always generalization helps a lot.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk10"><span class="kn">Lemma</span> <span class="nf">even_mult</span> : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span>,
    Nat.even (m * n) = Nat.even m || Nat.even n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat,
Nat.even (m * n) = Nat.even m || Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> <span class="nv">n</span> : nat,
Nat.even (m * n) = Nat.even m || Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk12"><span class="nb">induction</span> m <span class="nb">using</span> pair_induction; <span class="nb">simpl</span>; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (m * n) = Nat.even m || Nat.even n</span></span></span><br><span><var>IHm0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (S m * n) =
Nat.even (S m) || Nat.even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (n + (n + m * n)) = Nat.even m || Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk13"><span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (m * n) = Nat.even m || Nat.even n</span></span></span><br><span><var>IHm0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (S m * n) =
Nat.even (S m) || Nat.even n</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (n + (n + m * n)) = Nat.even m || Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk14"><span class="nb">replace</span> (n + (n + m * n)) <span class="kr">with</span> (<span class="mi">2</span> * n + m * n) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (m * n) = Nat.even m || Nat.even n</span></span></span><br><span><var>IHm0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat,
Nat.even (S m * n) =
Nat.even (S m) || Nat.even n</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (<span class="mi">2</span> * n + m * n) = Nat.even m || Nat.even n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> even_add_mul2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Now, the proof of the goal is trivial</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk15"><span class="kn">Goal</span> <span class="kr">forall</span> <span class="nv">n</span>, Nat.even (n * (S n)) = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk16"><span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> even_mult, even_S, orb_negb_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><dl class="docutils">
<dt></dt>
<dd>Can someone give a hint on how to prove this using a &quot;beginner's&quot;
subset of Coq?</dd>
</dl>
<p>You can consider this a hint, since it reveals the general structure
of a possible proof. The automatic tactics may be replaced by the
&quot;manual&quot; tactics like with <tt class="docutils literal">rewrite</tt>, <tt class="docutils literal">apply</tt>, <tt class="docutils literal">destruct</tt> and so
on.</p>
</div>
<div class="section" id="answer-ejgallego">
<h1>Answer (ejgallego)</h1>
<p>I'd like to contribute a shorter proof using the mathcomp lib:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk17"><span class="kn">From</span> mathcomp <span class="kn">Require Import</span> all_ssreflect.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ | _ ]&quot;</span> was already used <span class="kr">in</span> scope
fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ : _ | _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ &amp; _ | _ ]&quot;</span> was already used
<span class="kr">in</span> scope fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ &amp; _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ | _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ ]&quot;</span> was already used <span class="kr">in</span> scope
fun_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ + _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ - _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &gt;= _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &gt; _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _ &lt; _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _ &lt; _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ * _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="s2">&quot;_ ^ _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk18"><span class="kn">Lemma</span> <span class="nf">P</span> <span class="nv">n</span> : ~~ odd (n * n.+<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~~ odd (n * n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~~ odd (n * n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1a"><span class="bp">by</span> <span class="nb">rewrite</span> odd_mul andbN.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="nf">odd_mul</span> <span class="kr">is</span> deprecated since mathcomp <span class="mi">1</span>.<span class="mi">12</span>.<span class="mi">0</span>.
Use oddM instead.
[deprecated-syntactic-definition,deprecated]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="nf">odd_mul</span> <span class="kr">is</span> deprecated since mathcomp <span class="mi">1</span>.<span class="mi">12</span>.<span class="mi">0</span>.
Use oddM instead.
[deprecated-syntactic-definition,deprecated]</blockquote><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="nf">odd_mul</span> <span class="kr">is</span> deprecated since mathcomp <span class="mi">1</span>.<span class="mi">12</span>.<span class="mi">0</span>.
Use oddM instead.
[deprecated-syntactic-definition,deprecated]</blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p><tt class="docutils literal">odd_mul</tt> is proved by simple induction, as well as <tt class="docutils literal">odd_add</tt>.</p>
<hr class="docutils" />
<p><strong>A:</strong> The definition of <tt class="docutils literal">odd</tt> here has different structure
comparing to <tt class="docutils literal">even</tt> in the question, that's why simple induction
works well in this case.</p>
</div>
<div class="section" id="answer-anton-trunov-1">
<h1>Answer (Anton Trunov)</h1>
<p>Another version, in the spirit of &#64;ejgallego's answer. Let's give
another definition for the even predicate. The purpose of this is to
make proofs by simple induction easy, so there is no need of using
<tt class="docutils literal">pair_induction</tt>. The main idea is that we are going to prove some
properties of <tt class="docutils literal">even2</tt> and then we'll use the fact that <tt class="docutils literal">Nat.even</tt>
and <tt class="docutils literal">even2</tt> are extensionally equal to transfer the properties of
<tt class="docutils literal">even2</tt> onto <tt class="docutils literal">Nat.even</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Bool.Bool.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">even2</span> (<span class="nv">n</span> : nat) : bool :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | O =&gt; true
  | S n&#39; =&gt; negb (even2 n&#39;)
  <span class="kr">end</span>.</span></span></pre><p>Let's show that <tt class="docutils literal">Nat.even</tt> and <tt class="docutils literal">even2</tt> are extensionally equal.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1b"><span class="kn">Lemma</span> <span class="nf">even_S</span> <span class="nv">n</span> :
  Nat.even (S n) = negb (Nat.even n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S n) = negb (Nat.even n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S n) = negb (Nat.even n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1d"><span class="nb">induction</span> n; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even (S n) = negb (Nat.even n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S (S n)) = negb (Nat.even (S n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> negb_sym; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1e"><span class="kn">Lemma</span> <span class="nf">even_equiv_even2</span> <span class="nv">n</span> :
  Nat.even n = even2 n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even n = even2 n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk1f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even n = even2 n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk20"><span class="nb">induction</span> n; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>Nat.even n = even2 n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (S n) = even2 (S n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> even_S, IHn.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Some distribution lemmas for <tt class="docutils literal">even2</tt>:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk21"><span class="kn">Lemma</span> <span class="nf">even2_distr_add</span> <span class="nv">m</span> <span class="nv">n</span> :
  even2 (m + n) = negb (xorb (even2 m) (even2 n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 (m + n) = negb (xorb (even2 m) (even2 n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 (m + n) = negb (xorb (even2 m) (even2 n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk23"><span class="nb">induction</span> m; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 n = negb (<span class="kr">if</span> even2 n <span class="kr">then</span> false <span class="kr">else</span> true)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk24" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even2 (m + n) = negb (xorb (even2 m) (even2 n))</span></span></span><br></div><label class="goal-separator" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk24"><hr></label><div class="goal-conclusion">negb (even2 (m + n)) =
negb (xorb (negb (even2 m)) (even2 n))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk25">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 n = negb (<span class="kr">if</span> even2 n <span class="kr">then</span> false <span class="kr">else</span> true)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">destruct</span> (even2 n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even2 (m + n) = negb (xorb (even2 m) (even2 n))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb (even2 (m + n)) =
negb (xorb (negb (even2 m)) (even2 n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk27"><span class="nb">rewrite</span> IHm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even2 (m + n) = negb (xorb (even2 m) (even2 n))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb (negb (xorb (even2 m) (even2 n))) =
negb (xorb (negb (even2 m)) (even2 n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">destruct</span> (even2 m); <span class="nb">destruct</span> (even2 n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk28"><span class="kn">Lemma</span> <span class="nf">even2_distr_mult</span> <span class="nv">m</span> <span class="nv">n</span> :
  even2 (m * n) = even2 m || even2 n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 (m * n) = even2 m || even2 n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk29"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 (m * n) = even2 m || even2 n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2a"><span class="nb">induction</span> m; <span class="nb">auto</span>; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even2 (m * n) = even2 m || even2 n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even2 (n + m * n) = negb (even2 m) || even2 n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2b"><span class="nb">rewrite</span> even2_distr_add, IHm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even2 (m * n) = even2 m || even2 n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb (xorb (even2 n) (even2 m || even2 n)) =
negb (even2 m) || even2 n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">destruct</span> (even2 m); <span class="nb">destruct</span> (even2 n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Finally, we are able to prove our goal, using the equality between
<tt class="docutils literal">Nat.even</tt> and <tt class="docutils literal">even2</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2c"><span class="kn">Goal</span> <span class="kr">forall</span> <span class="nv">n</span>, Nat.even (n * (S n)) = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2d"><span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> even_equiv_even2, even2_distr_mult, orb_negb_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="answer-anton-trunov-2">
<h1>Answer (Anton Trunov)</h1>
<p>A short version that makes use of the standard library:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Coq.Arith.Arith.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2e"><span class="kn">Goal</span> <span class="kr">forall</span> <span class="nv">n</span>, Nat.even (n * (S n)) = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk2f"><span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Nat.even (n * S n) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> Nat.even_mul, Nat.even_succ, Nat.orb_even_odd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
<div class="section" id="answer-olivier-verdier">
<h1>Answer (Olivier Verdier)</h1>
<p>For what it's worth, here is my take on the solution. The essential
idea is, instead of proving a predicate <tt class="docutils literal">P n</tt>, prove instead <tt class="docutils literal">P n
/\ P (S n)</tt>, which is equivalent, but the second formulation allows
to use simple induction.</p>
<p>Here is the complete proof:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Nat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">claim</span> <span class="nv">n</span> := even (n * (S n)) = true.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* A technical Lemma, needed in the proof *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk30"><span class="kn">Lemma</span> <span class="nf">tech</span> : <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span>, even n = true -&gt; even (n + <span class="mi">2</span> * m) = true.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat,
even n = true -&gt; even (n + <span class="mi">2</span> * m) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat,
even n = true -&gt; even (n + <span class="mi">2</span> * m) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk32"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n + <span class="mi">2</span> * m) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk33"><span class="nb">induction</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n + <span class="mi">2</span> * <span class="mi">0</span>) = true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even (n + <span class="mi">2</span> * m) = true</span></span></span><br></div><label class="goal-separator" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk34"><hr></label><div class="goal-conclusion">even (n + <span class="mi">2</span> * S m) = true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n + <span class="mi">2</span> * <span class="mi">0</span>) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk36"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n + <span class="mi">0</span>) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">replace</span> (n + <span class="mi">0</span>) <span class="kr">with</span> n; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even n = true</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>even (n + <span class="mi">2</span> * m) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n + <span class="mi">2</span> * S m) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">replace</span> (n + <span class="mi">2</span> * S m) <span class="kr">with</span> (S (S (n + <span class="mi">2</span> * m))); [<span class="nb">intuition</span> | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* A simple identity, that Coq needs help to prove *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk38"><span class="kn">Lemma</span> <span class="nf">ident</span> : <span class="kr">forall</span> <span class="nv">n</span>,
    (S (S n) * S (S (S n))) = (S n * S (S n) + <span class="mi">2</span> * (S (S n))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat,
S (S n) * S (S (S n)) = S n * S (S n) + <span class="mi">2</span> * S (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(* (n+2)*(n+3) = (n+1)*(n+2) + 2*(n+2) *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk39"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat,
S (S n) * S (S (S n)) = S n * S (S n) + <span class="mi">2</span> * S (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3a"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) * S (S (S n)) = S n * S (S n) + <span class="mi">2</span> * S (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3b"><span class="nb">replace</span> (S (S (S n))) <span class="kr">with</span> ((S n) + <span class="mi">2</span>) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) * (S n + <span class="mi">2</span>) = S n * S (S n) + <span class="mi">2</span> * S (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3c"><span class="nb">remember</span> (S (S n)) <span class="kr">as</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>m = S (S n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (S n + <span class="mi">2</span>) = S n * m + <span class="mi">2</span> * m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3d"><span class="nb">replace</span> (m * (S n + <span class="mi">2</span>)) <span class="kr">with</span> ((S n + <span class="mi">2</span>) * m) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>m = S (S n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n + <span class="mi">2</span>) * m = S n * m + <span class="mi">2</span> * m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* The claim to be proved by simple induction *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3e"><span class="kn">Lemma</span> <span class="nf">nsn</span> : <span class="kr">forall</span> <span class="nv">n</span>, claim n /\ claim (S n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, claim n /\ claim (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk3f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, claim n /\ claim (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk40"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">claim n /\ claim (S n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk41"><span class="nb">unfold</span> claim.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (n * S n) = true /\ even (S n * S (S n)) = true</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk42"><span class="nb">induction</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">even (<span class="mi">0</span> * <span class="mi">1</span>) = true /\ even (<span class="mi">1</span> * <span class="mi">2</span>) = true</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk43" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>even (n * S n) = true /\ even (S n * S (S n)) = true</span></span></span><br></div><label class="goal-separator" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk43"><hr></label><div class="goal-conclusion">even (S n * S (S n)) = true /\
even (S (S n) * S (S (S n))) = true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk44">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">even (<span class="mi">0</span> * <span class="mi">1</span>) = true /\ even (<span class="mi">1</span> * <span class="mi">2</span>) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk45">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>even (n * S n) = true /\ even (S n * S (S n)) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (S n * S (S n)) = true /\
even (S (S n) * S (S (S n))) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk46"><span class="nb">intuition</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even (n * S n) = true</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>even (S n * S (S n)) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (S (S n) * S (S (S n))) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="coq-proving-that-the-product-of-n-and-s-n-is-even-v-chk47"><span class="nb">rewrite</span> <span class="kn">ident</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>even (n * S n) = true</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>even (S n * S (S n)) = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">even (S n * S (S n) + <span class="mi">2</span> * S (S n)) = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> tech; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></div>
</div>
</div>
</div></body>
</html>
