<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Contradiction on natural number's zero test</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><main id="contradiction-on-natural-number-s-zero-test">
<h1 class="title">Contradiction on natural number's zero test</h1>
<dl class="docinfo simple">
<dt class="link">Link<span class="colon">:</span></dt>
<dd class="link"><p><a class="reference external" href="https://stackoverflow.com/q/58245731">https://stackoverflow.com/q/58245731</a></p>
</dd>
</dl>
<input type="checkbox" class="alectryon-toggle" id="alectryon-toggle-0" /><label for="alectryon-toggle-0" class="alectryon-toggle-label">Display all goals and responses</label><div class="alectryon-container docutils container">
<section id="question">
<h2>Question</h2>
<p>I have a natural number that is not equal to zero. I want to prove
that if it is equal to zero then it give false.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk0"><span class="kn">Lemma</span> <span class="nf">notzero</span> : <span class="kr">forall</span> <span class="nv">n</span>, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk2"><span class="nb">intros</span> n H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input alectryon-failed" for="contradiction-on-natural-numbers-zero-test-v-chk3"><span class="nb">inversion</span> H.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The <span class="kp">type of</span> H <span class="kr">is</span> not inductive.</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small></span></pre></section>
<section id="answer-larsr">
<h2>Answer (larsr)</h2>
<p>Instead of using inversion in every proof, I find that the proofs are
more maintainable in the long run if you use boolean reflection. The
libraries have many useful lemmas that you can use, they often are
called something with &quot;reflect&quot;, &quot;decide&quot;, &quot;dec&quot; or &quot;spec&quot; as in
specification, so you can i.e. search for lemmas related to <span class="docutils literal">&lt;</span> with
<span class="docutils literal">Search (_ &lt; _) &quot;spec&quot;</span>.</p>
<p>The reflection lemmas are designed to at the same time 1) destruct the
boolean term in your proof context, and 2) add the corresponding
<span class="docutils literal">Prop</span> to your context, making it easy to then use <span class="docutils literal">lia</span>,
<span class="docutils literal">omega</span>, etc. to finish the proof.</p>
<p>In your case, you can use <span class="docutils literal">Nat.eqb_spec</span> (from <span class="docutils literal">Require Import PeanoNat.</span>). Do</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk4"><span class="nb">destruct</span> (Nat.eqb_spec n <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">true = false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H, n0</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="contradiction-on-natural-numbers-zero-test-v-chk5"><hr></label><div class="goal-conclusion">false = false</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span></pre><p>It will create two branches, in one <span class="docutils literal">n <span class="pre">?=</span> 0</span> is replaced with
<span class="docutils literal">true</span> and <span class="docutils literal">n = 0</span> is added to the context, and in the other <span class="docutils literal">n =? 0</span> is replaced with <span class="docutils literal">false</span> and <span class="docutils literal">n &lt;&gt; 0</span> is added to the
context. It is now very easy to finish of the proof, as the first
goal's context contains the contradiction <span class="docutils literal">n = 0</span> and <span class="docutils literal">n &lt;&gt; 0</span>,
and the second goal is <span class="docutils literal">false = false</span>. You can use the automation
tactical <span class="docutils literal">now</span>, so the complete proof is</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">destruct</span> (Nat.eqb_spec n <span class="mi">0</span>).</span></span></pre><p>If you want to use integers <span class="docutils literal">Z</span>, instead, the proof becomes <span class="docutils literal">now destruct (Z.eq_spec n 0).</span>. as the <span class="docutils literal">Z</span> module has many of the
corresponding lemmas with matching names.</p>
</section>
<section id="answer-theo-winterhalter">
<h2>Answer (Th√©o Winterhalter)</h2>
<p>Generally, you can use the fact that <span class="docutils literal">=?</span> reflects equality on
natural numbers (<span class="docutils literal">Nat.eqb_spec</span>). Are you using the two notions of
equality on purpose? Note that <span class="docutils literal">n &lt;&gt; 0</span> is a notation for <span class="docutils literal">n = 0 <span class="pre">-&gt;</span> False</span>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk6"><span class="kn">Lemma</span> <span class="nf">notzero</span> : <span class="kr">forall</span> <span class="nv">n</span>, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk8"><span class="nb">intros</span> n h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk9"><span class="nb">destruct</span> (Nat.eqb_spec n <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">true = false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="contradiction-on-natural-numbers-zero-test-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h, n0</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="contradiction-on-natural-numbers-zero-test-v-chka"><hr></label><div class="goal-conclusion">false = false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">true = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chkc"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chkd"><span class="nb">apply</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h, n0</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>There is also the possibility of simply doing an analysis on <span class="docutils literal">n</span>. If
it is <span class="docutils literal">0</span> then you can use your hypothesis to conclude, and if it is
some <span class="docutils literal">S m</span> then your goal will be provable by <span class="docutils literal">reflexivity</span>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chkf"><span class="kn">Lemma</span> <span class="nf">notzero</span> : <span class="kr">forall</span> <span class="nv">n</span>, n &lt;&gt; <span class="mi">0</span> -&gt; n =? <span class="mi">0</span> = false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk10"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, n &lt;&gt; <span class="mi">0</span> -&gt; (n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk11"><span class="nb">intros</span> n h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk12"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> =? <span class="mi">0</span>) = false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>S n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="contradiction-on-natural-numbers-zero-test-v-chk13"><hr></label><div class="goal-conclusion">(S n =? <span class="mi">0</span>) = false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk14">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="contradiction-on-natural-numbers-zero-test-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="contradiction-on-natural-numbers-zero-test-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>S n &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S n =? <span class="mi">0</span>) = false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre></section>
</div>
</main>
</div></body>
</html>
