<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta charset="utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>What is a concrete example of the type Set and what is the meaning of Set?</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><main id="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set">
<h1 class="title">What is a concrete example of the type <span class="docutils literal">Set</span> and what is the meaning of <span class="docutils literal">Set</span>?</h1>
<dl class="docinfo simple">
<dt class="link">Link<span class="colon">:</span></dt>
<dd class="link"><p><a class="reference external" href="https://stackoverflow.com/q/68056978">https://stackoverflow.com/q/68056978</a></p>
</dd>
</dl>
<input type="checkbox" class="alectryon-toggle" id="alectryon-toggle-0" /><label for="alectryon-toggle-0" class="alectryon-toggle-label">Display all goals and responses</label><div class="alectryon-container docutils container">
<section id="question">
<h2>Question</h2>
<p>I've been trying to understand what <span class="docutils literal">Set</span> is after encountering it
in Adam Chlipala's book in addition to <a class="reference external" href="https://stackoverflow.com/questions/39601502/what-exactly-is-a-set-in-coq">this great discussion in SO</a>.
His first example definition binary ops using <span class="docutils literal">Set</span>:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">binop</span> : <span class="kt">Set</span> := Plus | Times.</span></span></pre><p>in that book he says:</p>
<blockquote>
<p>Second, there is the <span class="docutils literal">: Set</span> fragment, which declares that we
are defining a datatype that should be thought of as a constituent
of programs.</p>
</blockquote>
<p>Which confuses me. What does Adam mean here?</p>
<p>In addition, I thought that some additional concrete examples would
help my understanding. I am not an expert of Coq so I am not sure what
type of examples would help but something simple and very
concrete/grounded might be useful.</p>
<p>Note, I have seen that <span class="docutils literal">Set</span> is the first &quot;type set&quot; in a the type
hierarchy e.g. <span class="docutils literal">Set = Type(0) &lt;= Type = Type(1) &lt;= Type(2) &lt;= ...</span>.
I guess this sort of makes sense intuitively like I'd assume <span class="docutils literal">nat \in Type</span> and all usual programming types to be in it but not sure what
would be in <span class="docutils literal">Type</span> that wouldn't be in <span class="docutils literal">Set</span>. Perhaps recursive
types? Not sure if that is the right example but I am trying to wrap
my head around what this concept means and it's conceptual (&amp;
practical) usefulness.</p>
</section>
<section id="answer">
<h2>Answer</h2>
<p>Though <span class="docutils literal">Set</span> and <span class="docutils literal">Type</span> are different in Coq, this is mostly due
to historical reasons. Nowadays, most developments do not rely on
<span class="docutils literal">Set</span> being different from <span class="docutils literal">Type</span>. In particular, Adam's comment
would also make sense if you replace <span class="docutils literal">Set</span> by <span class="docutils literal">Type</span> everywhere.
The main point is that, when you want to define a datatype that you
can compute with during execution (e.g. a number), you want to put it
in <span class="docutils literal">Set</span> or <span class="docutils literal">Type</span> <em>rather than</em> <span class="docutils literal">Prop</span>. This is because things
that live in <span class="docutils literal">Prop</span> are erased when you extract programs from Coq,
so something defined in <span class="docutils literal">Prop</span> would end up not computing anything.</p>
<p>As for your second question: <span class="docutils literal">Set</span> is something that lives in
<span class="docutils literal">Type</span>, but not in <span class="docutils literal">Set</span>, as the following snippet shows.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk0"><span class="kn">Check</span> <span class="kt">Set</span> : <span class="kt">Type</span>. <span class="c">(* This works *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kt">Set</span> : <span class="kt">Type</span>
     : <span class="kt">Type</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk1"><span class="kn">Fail</span> <span class="kn">Check</span> <span class="kt">Set</span> : <span class="kt">Set</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;Set&quot;</span> has type <span class="s2">&quot;Type&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;Set&quot;</span>
(universe inconsistency: Cannot enforce <span class="kt">Set</span>+<span class="mi">1</span> &lt;= <span class="kt">Set</span>).</blockquote></div></div></small></span></pre><p>This restriction is in place to prevent paradoxes in the theory. This
is pretty much the only difference you see between <span class="docutils literal">Set</span> and
<span class="docutils literal">Type</span> by default. You can also make them more different by invoking
Coq with the <span class="docutils literal"><span class="pre">-impredicative-set</span></span> option:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">(* Needs -impredicative-set; otherwise, the first line will also fail.*)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input alectryon-failed" for="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk2"><span class="kn">Check</span> (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Set</span>, A -&gt; A) : <span class="kt">Set</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The term <span class="s2">&quot;forall A : Set, A -&gt; A&quot;</span> has type <span class="s2">&quot;Type&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;Set&quot;</span>
(universe inconsistency: Cannot enforce <span class="kt">Set</span>+<span class="mi">1</span> &lt;= <span class="kt">Set</span>).</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">u</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="what-is-a-concrete-example-of-the-type-set-and-what-is-the-meaning-of-set-v-chk3"><span class="kn">Fail</span> <span class="kn">Check</span> (<span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Type</span>@{u}, A -&gt; A) : <span class="kt">Type</span>@{u}.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;forall A : Type, A -&gt; A&quot;</span> has type
 <span class="s2">&quot;Type@{u+1}&quot;</span> while it <span class="kr">is</span> expected to <span class="nb">have</span> type
 <span class="s2">&quot;Type@{u}&quot;</span> (universe inconsistency: Cannot enforce u
&lt; u because u = u).</blockquote></div></div></small></span></pre><p>Note that I had to add the <span class="docutils literal">Universe u</span>. declaration to force the
two occurrences of <span class="docutils literal">Type</span> to be at the same level. Without this
declaration, Coq would silently put the two <span class="docutils literal">Type</span>s at different
universe levels, and the command would be accepted. (This would not
mean that <span class="docutils literal">Type</span> would have the same behavior as <span class="docutils literal">Set</span> in this
example, since <span class="docutils literal"><span class="pre">Type&#64;{u}</span></span> and <span class="docutils literal"><span class="pre">Type&#64;{v}</span></span> are different things when
<span class="docutils literal">u</span> and <span class="docutils literal">v</span> are different!)</p>
<p>If you're wondering why this feature is useful, it is not by chance.
The overwhelming majority of Coq developments does not rely on it. It
is turned off by default because it is incompatible with a few axioms
that are generally considered more useful in Coq developments, such as
the strong law of the excluded middle:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Axiom</span> <span class="nv">excluded_middle</span> : <span class="kr">forall</span> <span class="nv">A</span> : <span class="kt">Prop</span>, {A} + {~ A}.</span></span></pre><p>With <span class="docutils literal"><span class="pre">-impredicative-set</span></span> turned on, this axiom yields a paradox,
while it is safe to use by default.</p>
</section>
</div>
</main>
</div></body>
</html>
