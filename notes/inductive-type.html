<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<title>Inductive type not restricted to mathematical induction</title>
<script type="text/javascript" defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js?config=TeX-AMS_CHTML"></script>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="document" id="inductive-type-not-restricted-to-mathematical-induction">
<h1 class="title">Inductive type not restricted to mathematical induction</h1>

<p>Many properties of natural numbers are proven using <a class="reference external" href="https://en.wikipedia.org/wiki/Mathematical_induction">mathematical
induction</a>.
This principle gives a proof that statement <span class="math">\(P(n)\)</span> holds for
every natural number <span class="math">\(n = 0, 1, 2, \ldots\)</span>, and consists of two
steps:</p>
<ol class="arabic simple">
<li>The <strong>initial</strong> or <strong>base case</strong>: prove that the statement holds
for <span class="math">\(0\)</span>.</li>
<li>The <strong>induction step</strong>: prove that for every <span class="math">\(n\)</span>, if the
statement holds for <span class="math">\(n\)</span>, then it holds for <span class="math">\(n + 1\)</span>.</li>
</ol>
<p>In Coq, natural numbers encoded using <a class="reference external" href="https://en.wikipedia.org/wiki/Peano_axioms">Peano's encoding</a> are given by the
following <a class="reference external" href="https://en.wikipedia.org/wiki/Inductive_type">inductive type</a>:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chk0" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Inductive</span> <span class="nf">nat</span> : <span class="kt">Set</span> :=  O : nat | S : nat -&gt; nat

<span class="kn">Arguments</span> S _%nat_scope</blockquote></div></div></small></span></pre><p>Here, a natural number is created either from the constant <tt class="docutils literal">O</tt> or by
applying the function <tt class="docutils literal">S</tt> to another natural number. <tt class="docutils literal">S</tt> is the
successor function which represents adding 1 to a number. Thus, <tt class="docutils literal">O</tt>
is zero, <tt class="docutils literal">S O</tt> is one, <tt class="docutils literal">S (S O)</tt> is two, <tt class="docutils literal">S (S (S O))</tt> is three,
and so on.</p>
<p>As most inductive types, <tt class="docutils literal">nat</tt> comes with a function to prove its
properties:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chk1" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">nat_ind
     : <span class="kr">forall</span> <span class="nv">P</span> : nat -&gt; <span class="kt">Prop</span>,
       P <span class="mi">0</span> -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (S n)) -&gt;
       <span class="kr">forall</span> <span class="nv">n</span> : nat, P n</blockquote></div></div></small></span></pre><p>Not surprising that that is mathematical induction. Example of proof
by induction using <tt class="docutils literal">induction</tt> tactic:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> PeanoNat Lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk2"><span class="kn">Lemma</span> <span class="nf">pow_2_bound</span> : <span class="kr">forall</span> <span class="nv">n</span> : nat, S n &lt;= <span class="mi">2</span> ^ n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, S n &lt;= <span class="mi">2</span> ^ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n</span> : nat, S n &lt;= <span class="mi">2</span> ^ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk4"><span class="nb">intro</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S n &lt;= <span class="mi">2</span> ^ n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk5"><span class="nb">induction</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt;= <span class="mi">2</span> ^ <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="inductive-type-v-chk6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>S n &lt;= <span class="mi">2</span> ^ n</span></span></span><br></div><label class="goal-separator" for="inductive-type-v-chk6"><hr></label><div class="goal-conclusion">S (S n) &lt;= <span class="mi">2</span> ^ S n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt;= <span class="mi">2</span> ^ <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>S n &lt;= <span class="mi">2</span> ^ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) &lt;= <span class="mi">2</span> ^ S n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk9"><span class="nb">rewrite</span> Nat.pow_succ_r; [| <span class="nb">apply</span> Nat.le_0_l].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>S n &lt;= <span class="mi">2</span> ^ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) &lt;= <span class="mi">2</span> * <span class="mi">2</span> ^ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chka"><span class="nb">apply</span> Nat.mul_le_mono_l <span class="kr">with</span> (p:=<span class="mi">2</span>) <span class="kr">in</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * S n &lt;= <span class="mi">2</span> * <span class="mi">2</span> ^ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) &lt;= <span class="mi">2</span> * <span class="mi">2</span> ^ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chkb"><span class="nb">apply</span> (Nat.le_trans _ (<span class="mi">2</span> * S n)); <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * S n &lt;= <span class="mi">2</span> * <span class="mi">2</span> ^ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S n) &lt;= <span class="mi">2</span> * S n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Albeit mathematical induction is a very natural way of proving
properties about natural numbers, its applicability to most cases is
overemphasized. Just try to prove by induction the following lemma:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chkc"><span class="kn">Lemma</span> <span class="nf">mod_sym</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : nat,
    a &lt;&gt; <span class="mi">0</span> -&gt; b &lt;&gt; <span class="mi">0</span> -&gt; a mod b = b mod a &lt;-&gt; a = b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : nat,
a &lt;&gt; <span class="mi">0</span> -&gt; b &lt;&gt; <span class="mi">0</span> -&gt; a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span></pre><p>After some failed tries, I recommend you to take a coffee break and,
then, make a try with pen and paper. It should stimulate you to turn
into a case analysis and find out three distinct cases: <tt class="docutils literal">a &lt; b</tt>, <tt class="docutils literal">a
= b</tt>, and <tt class="docutils literal">a &gt; b</tt>. However, in comparison with mathematical
induction, reasoning about cases in Coq seems not so convenient. The
point is that every case is a proposition (<tt class="docutils literal">Prop</tt>), not inductive
type; hence, our case analysis is non-constructive.</p>
<p>The good news is that Coq provides an appropriate inductive type for
case analysis:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chkd" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Inductive</span> <span class="nf">sumbool</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Prop</span>) : <span class="kt">Set</span> :=
    <span class="nb">left</span> : A -&gt; {A} + {B} | <span class="nb">right</span> : B -&gt; {A} + {B}

<span class="kn">Arguments</span> sumbool (_ _)%type_scope
<span class="kn">Arguments</span> <span class="nb">left</span> {A B}%type_scope _, [_] _ _
<span class="kn">Arguments</span> <span class="nb">right</span> {A B}%type_scope _, _ [_] _</blockquote></div></div></small></span></pre><p>In turn, our case analysis is expressed by decidable equality:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chke" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">lt_eq_lt_dec
     : <span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, {n &lt; m} + {n = m} + {m &lt; n}</blockquote></div></div></small></span></pre><p>Returning to our example, one can now split the set of natural numbers
into the desired cases:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Compare_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chkf"><span class="kn">Lemma</span> <span class="nf">mod_sym</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : nat,
    a &lt;&gt; <span class="mi">0</span> -&gt; b &lt;&gt; <span class="mi">0</span> -&gt; a mod b = b mod a &lt;-&gt; a = b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : nat,
a &lt;&gt; <span class="mi">0</span> -&gt; b &lt;&gt; <span class="mi">0</span> -&gt; a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk10"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : nat,
a &lt;&gt; <span class="mi">0</span> -&gt; b &lt;&gt; <span class="mi">0</span> -&gt; a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk11"><span class="nb">intros</span> a b Ha Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk12"><span class="nb">pose proof</span> (lt_eq_lt_dec a b) <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{a &lt; b} + {a = b} + {b &lt; a}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk13"><span class="nb">destruct</span> H <span class="kr">as</span> [H | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{a &lt; b} + {a = b}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="inductive-type-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b &lt; a</span></span></span><br></div><label class="goal-separator" for="inductive-type-v-chk14"><hr></label><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk15"><span class="mi">1</span>: <span class="nb">destruct</span> H <span class="kr">as</span> [H | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="inductive-type-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><label class="goal-separator" for="inductive-type-v-chk16"><hr></label><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote><input class="alectryon-extra-goal-toggle" id="inductive-type-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b &lt; a</span></span></span><br></div><label class="goal-separator" for="inductive-type-v-chk17"><hr></label><div class="goal-conclusion">a mod b = b mod a &lt;-&gt; a = b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chk18" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">subgoal <span class="mi">1</span> <span class="kr">is</span>:

  a, b : nat
  Ha : a &lt;&gt; <span class="mi">0</span>
  Hb : b &lt;&gt; <span class="mi">0</span>
  H : a &lt; b
  ============================
  a mod b = b mod a &lt;-&gt; a = b</blockquote></div></div></small></span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chk19" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">subgoal <span class="mi">2</span> <span class="kr">is</span>:

  a, b : nat
  Ha : a &lt;&gt; <span class="mi">0</span>
  Hb : b &lt;&gt; <span class="mi">0</span>
  H : a = b
  ============================
  a mod b = b mod a &lt;-&gt; a = b</blockquote></div></div></small></span><span class="alectryon-sentence"><input checked="checked" class="alectryon-toggle" id="inductive-type-v-chk1a" style="display: none" type="checkbox"><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">subgoal <span class="mi">3</span> <span class="kr">is</span>:

  a, b : nat
  Ha : a &lt;&gt; <span class="mi">0</span>
  Hb : b &lt;&gt; <span class="mi">0</span>
  H : b &lt; a
  ============================
  a mod b = b mod a &lt;-&gt; a = b</blockquote></div></div></small></span></pre><p>The rest of proof is straightforward:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk1b"><span class="kp">all</span>: <span class="nb">split</span>; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="inductive-type-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b &lt; a</span></span></span><br></div><label class="goal-separator" for="inductive-type-v-chk1c"><hr></label><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk1e"><span class="nb">apply</span> Nat.mod_small <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk1f"><span class="nb">intro</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b mod a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk20"><span class="nb">rewrite</span> H <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = b mod a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk21"><span class="nb">pose proof</span> (Nat.mod_upper_bound b a Ha) <span class="kr">as</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = b mod a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>b mod a &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk22"><span class="nb">rewrite</span> &lt;- H0 <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = b mod a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk23"><span class="bp">contradict</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a mod b = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = b mod a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ a &lt; a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Nat.lt_irrefl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk25"><span class="nb">apply</span> Nat.mod_small <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a mod b = b mod a -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk26"><span class="nb">intro</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b mod a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk27"><span class="nb">rewrite</span> H <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk28"><span class="nb">pose proof</span> (Nat.mod_upper_bound a b Hb) <span class="kr">as</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a mod b &lt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk29"><span class="nb">rewrite</span> H0 <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>b &lt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="inductive-type-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="inductive-type-v-chk2a"><span class="bp">contradict</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b &lt;&gt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b mod a = b</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a mod b = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ b &lt; b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Nat.lt_irrefl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>In conclusion, we have emphasized the importance of inductive types to
enumerate all elements of a set (for instance, natural numbers).
However, we are not restricted to the standard encoding of the set and
are able to introduce own principles for the enumeration. But we need
always keep in mind that such a procedure should be decidable. In
contrast, non-decidable procedures are propositions (<tt class="docutils literal">Prop</tt>) and not
the subject for case analysis (due to the lack of <a class="reference external" href="https://en.wikipedia.org/wiki/Law_of_excluded_middle">excluded-middle law</a> in
constructive logic).</p>
<hr class="docutils" />
<p>Below are appropriate examples found on <a class="reference external" href="https://stackoverflow.com/">Stack Overflow</a>:</p>
<ol class="arabic simple">
<li><a class="reference external" href="../examples/contradiction-on-natural-numbers-zero-test.html">../examples/contradiction-on-natural-numbers-zero-test.html</a></li>
<li><a class="reference external" href="../examples/coq-how-to-prove-if-statements-involving-strings.html">../examples/coq-how-to-prove-if-statements-involving-strings.html</a></li>
<li><a class="reference external" href="../examples/coq-how-to-prove-max-a-b-ab.html">../examples/coq-how-to-prove-max-a-b-ab.html</a></li>
<li><a class="reference external" href="../examples/coq-leb-does-not-give-me-an-hypothesis-after-case-or-induction.html">../examples/coq-leb-does-not-give-me-an-hypothesis-after-case-or-induction.html</a></li>
<li><a class="reference external" href="../examples/finding-a-well-founded-relation-to-prove-termination-of-a-function-that-stops-de.html">../examples/finding-a-well-founded-relation-to-prove-termination-of-a-function-that-stops-de.html</a></li>
<li><a class="reference external" href="../examples/how-does-decidable-equality-works-with-list-remove.html">../examples/how-does-decidable-equality-works-with-list-remove.html</a></li>
<li><a class="reference external" href="../examples/pattern-matching-with-even-and-odd-cases.html">../examples/pattern-matching-with-even-and-odd-cases.html</a></li>
<li><a class="reference external" href="../examples/prove-that-the-only-zero-length-vector-is-nil.html">../examples/prove-that-the-only-zero-length-vector-is-nil.html</a></li>
</ol>
</div>
</div></body>
</html>
